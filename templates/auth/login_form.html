{% extends "auth/layout_minimal.html" %} 

{% block title %}
    تسجيل الدخول - اختبرني
{% endblock %}

{% block content_minimal %}
<div class="card login-form-container-actual"> 
    <h2 style="font-weight: 700;">تسجيل الدخول إلى اختبرني</h2>

    <form method="POST" action="{{ url_for('login_page') }}">
        
        <div class="form-group">
            <label for="email">البريد الإلكتروني<span class="text-danger-asterisk">*</span></label>
            <input type="email" class="form-control" id="email" name="email" 
                   value="{{ request.form.email if request.form else '' }}" required autocomplete="email">
        </div>

        <div class="form-group password-field-container">
            <label for="password">كلمة المرور<span class="text-danger-asterisk">*</span></label>
            <input type="password" class="form-control" id="password" name="password" required autocomplete="current-password">
            <span class="password-toggle-icon" onclick="togglePasswordVisibilityForLogin('password', this)"><i class="fas fa-eye"></i></span>
        </div>
        
        <div style="text-align: left; margin-bottom: 15px; font-size: 0.85em;">
             <a href="#" style="color: var(--dark-text-color); text-decoration:none;">نسيت كلمة المرور؟</a>
        </div>

        <button type="submit" class="btn btn-login">
            <i class="fas fa-sign-in-alt"></i> تسجيل الدخول
        </button>
    </form>

    <p class="signup-prompt-login" style="margin-top: 25px;">
        ليس لديك حساب؟ <a href="{{ url_for('choose_signup_role') }}">أنشئ حسابًا جديدًا</a>
    </p>
</div>
{% endblock content_minimal %}

{% block scripts_extra_minimal %}
<script>
    function togglePasswordVisibilityForLogin(fieldId, iconElement) { 
        const passwordField = document.getElementById(fieldId);
        const icon = iconElement.querySelector('i');
        if (passwordField.type === "password") {
            passwordField.type = "text";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
        } else {
            passwordField.type = "password";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
        }
    }
</script>
{% endblock scripts_extra_minimal %}