{% extends "layout.html" %}

{% block title %}
    <span class="lang-en">Explore Teachers - Ektbariny</span>
    <span class="lang-ar" style="display:none;">استكشف المعلمين - اختبرني</span>
{% endblock %}

{% block content %}
<div class="container main-page-content" style="margin-top: 30px; margin-bottom: 30px;">
    <h2 class="section-main-title text-center">
        <span class="lang-en">Explore Our Talented Teachers</span>
        <span class="lang-ar" style="display:none;">استكشف معلمينا الموهوبين</span>
    </h2>
    <p class="section-subtitle text-center">
        <span class="lang-en">Find the perfect teacher for your learning needs. Search by name, subject, or bio.</span>
        <span class="lang-ar" style="display:none;">ابحث عن المعلم المثالي لاحتياجاتك التعليمية. ابحث بالاسم، الموضوع، أو النبذة.</span>
    </p>

    {# Search Form #}
    <div class="card p-4 mb-4" style="max-width: 700px; margin: 0 auto;">
        <form method="GET" action="{{ url_for('explore_teachers_page') }}">
            <div class="input-group">
                <input type="text" class="form-control" name="search_query" 
                       placeholder="{% if current_lang == 'ar' %}ابحث عن المعلمين...{% else %}Search teachers...{% endif %}" 
                       value="{{ search_query if search_query }}" aria-label="Search teachers">
                <button class="btn btn-primary" type="submit">
                    <i class="fas fa-search me-1"></i>
                    <span class="lang-en">Search</span>
                    <span class="lang-ar" style="display:none;">بحث</span>
                </button>
            </div>
        </form>
    </div>

    {# Teachers List/Grid #}
    <div class="teachers-grid">
        {% if teachers %}
            {% for teacher in teachers %}
            <div class="teacher-card">
                <div class="teacher-card-header">
                    <img src="{{ url_for('static', filename=teacher.profile_picture_url) if teacher.profile_picture_url else url_for('static', filename='images/default_profile.png') }}" 
                         alt="{% if current_lang == 'ar' %}صورة الملف الشخصي للمعلم{% else %}Teacher Profile Picture{% endif %}" 
                         class="teacher-card-img">
                    <div class="teacher-name-and-role">
                        <a href="#" class="teacher-name-link"> {# This link will go to teacher's public profile/videos page later #}
                            {{ teacher.first_name }} {{ teacher.last_name }}
                        </a>
                        <span class="teacher-role">
                            <span class="lang-en">Teacher</span>
                            <span class="lang-ar" style="display:none;">معلم</span>
                        </span>
                    </div>
                </div>
                <div class="teacher-card-body">
                    <p class="teacher-bio">{{ teacher.bio | truncate(150, True) if teacher.bio else 'No bio available.' }}</p>
                    {# You can add more info here, e.g., number of videos, quizzes #}
                </div>
                <div class="teacher-card-footer">
                    <a href="#" class="btn btn-sm btn-outline-primary"> {# This button will view teacher's videos/profile #}
                        <i class="fas fa-video me-1"></i>
                        <span class="lang-en">View Videos & Quizzes</span>
                        <span class="lang-ar" style="display:none;">عرض الفيديوهات والاختبارات</span>
                    </a>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="alert alert-info text-center w-100" style="grid-column: 1 / -1;">
                <p class="mb-0">
                    <span class="lang-en">No teachers found matching your search.</span>
                    <span class="lang-ar" style="display:none;">لم يتم العثور على معلمين يطابقون بحثك.</span>
                </p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}